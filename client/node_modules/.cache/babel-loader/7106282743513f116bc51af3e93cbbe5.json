{"ast":null,"code":"var _jsxFileName = \"/Users/huizehuang/Downloads/ArtsMuseum-master/client/src/components/DisplayPopular.js\";\nimport React from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"../style/SingleImage.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport SideNavbar from './SideNavbar';\nimport TopNavbar from './TopNavbar';\nimport Footer from './Footer';\nimport SingleImageInfo from './SingleImageInfo';\nexport default class DisplayPopular extends React.Component {\n  constructor(props) {\n    super(props); // The state maintained by this React Component.\n    // This component maintains a list of randomly picked paintings\n\n    this.state = {\n      imageDivs: []\n    }; // Any instance method should be binded here\n\n    this.fetchImages = this.fetchImages.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchImages();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.params.genre !== prevProps.match.params.genre) {\n      this.fetchImages();\n    }\n  }\n\n  fetchImages() {\n    fetch(\"http://localhost:8081/populars/\" + this.props.match.params.genre, {\n      method: 'GET' // The type of HTTP request.\n\n    }).then(res => {\n      // Convert the response data to a JSON.\n      return res.json();\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    }).then(imageInfoArr => {\n      if (!imageInfoArr) return;\n      let imageDivs = imageInfoArr.map((imgInfo, i) => /*#__PURE__*/React.createElement(SingleImageInfo, {\n        loggedInStatus: this.props.loggedInStatus,\n        userID: this.props.user,\n        imageID: this.props.match.params.imageID,\n        source: imgInfo.IMAGE_SOURCE,\n        title: imgInfo.TITLE,\n        size: imgInfo.SIZES,\n        start: imgInfo.TIMELINE_START,\n        artist: imgInfo.AUTHOR,\n        date: imgInfo.CREATED_TIME,\n        technique: imgInfo.TECHNIQUE,\n        type: imgInfo.TYPE,\n        form: imgInfo.FORM,\n        school: imgInfo.SCHOOL,\n        location: imgInfo.LOCATION,\n        description: imgInfo.DESCRIPTION,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 7\n        }\n      }));\n      this.setState({\n        imageDivs: imageDivs\n      });\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    });\n  }\n\n  toggleLike() {\n    var icon = this.state.likeState ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: ['far', 'heart'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 39\n      }\n    }) : /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: \"heart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 85\n      }\n    });\n    this.setState({\n      likeIcon: icon,\n      likeState: !this.state.likeState\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(SideNavbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TopNavbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }), this.state.imageDivs, /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/huizehuang/Downloads/ArtsMuseum-master/client/src/components/DisplayPopular.js"],"names":["React","FontAwesomeIcon","SideNavbar","TopNavbar","Footer","SingleImageInfo","DisplayPopular","Component","constructor","props","state","imageDivs","fetchImages","bind","componentDidMount","componentDidUpdate","prevProps","match","params","genre","fetch","method","then","res","json","err","console","log","imageInfoArr","map","imgInfo","i","loggedInStatus","user","imageID","IMAGE_SOURCE","TITLE","SIZES","TIMELINE_START","AUTHOR","CREATED_TIME","TECHNIQUE","TYPE","FORM","SCHOOL","LOCATION","DESCRIPTION","setState","toggleLike","icon","likeState","likeIcon","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"../style/SingleImage.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport SideNavbar from './SideNavbar';\nimport TopNavbar from './TopNavbar';\nimport Footer from './Footer';\nimport SingleImageInfo from './SingleImageInfo'\n\nexport default class DisplayPopular extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // The state maintained by this React Component.\n    // This component maintains a list of randomly picked paintings\n    this.state = {\n        imageDivs:[]\n    }\n\n    // Any instance method should be binded here\n    this.fetchImages = this.fetchImages.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchImages();\n  }\n\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.params.genre !== prevProps.match.params.genre) {\n      this.fetchImages();\n    }\n  }\n\n  fetchImages() {\n    fetch(\"http://localhost:8081/populars/\"+this.props.match.params.genre,\n    {\n      method: 'GET' // The type of HTTP request.\n    }).then(res => {\n      // Convert the response data to a JSON.\n      return res.json();\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    }).then(imageInfoArr => {\n      if (!imageInfoArr) return;\n\n      let imageDivs = imageInfoArr.map((imgInfo, i) =>\n      <SingleImageInfo loggedInStatus={this.props.loggedInStatus} userID={this.props.user} imageID={this.props.match.params.imageID}\n        source={imgInfo.IMAGE_SOURCE} title={imgInfo.TITLE} size={imgInfo.SIZES} start={imgInfo.TIMELINE_START}\n        artist={imgInfo.AUTHOR} date={imgInfo.CREATED_TIME} technique={imgInfo.TECHNIQUE} type={imgInfo.TYPE}\n        form={imgInfo.FORM} school={imgInfo.SCHOOL} location={imgInfo.LOCATION} description={imgInfo.DESCRIPTION}/>\n      );\n\n      this.setState({\n        imageDivs:imageDivs\n      });\n\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    });\n  }\n\n  toggleLike(){\n    var icon = this.state.likeState ? <FontAwesomeIcon icon={['far', 'heart']} /> : <FontAwesomeIcon icon=\"heart\" />;\n    this.setState ({\n      likeIcon: icon,\n      likeState: !this.state.likeState\n    });\n  }\n\n  render() {\n\n    return (\n    <div>\n\n      <SideNavbar />\n\n\n      <div id=\"main\">\n\n        <TopNavbar/>\n\n        {this.state.imageDivs}\n\n        <Footer />\n\n      </div>\n\n    </div>\n\n    );\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}